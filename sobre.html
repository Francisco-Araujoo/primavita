<!DOCTYPE html>
<html lang="pt-BR" class="antialiased">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sobre | Primavita - Inovação Odontológica</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Montserrat:wght@400;700;800;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            dark: '#050505',
                            blue: '#38bdf8', 
                            light: '#e2e8f0',
                            accent: '#0ea5e9',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Montserrat', 'sans-serif'],
                    },
                    fontSize: {
                        '10xl': '10rem',
                        '11xl': '12rem',
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --bg-color: #050505;
            --text-color: #ffffff;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            overflow: hidden;
        }

        /* 3D Container */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            opacity: 0.3;
            pointer-events: none;
        }

        /* Slides Container */
        .slides-container {
            display: flex;
            width: calc(100vw * 11);
            height: 100vh;
            transition: transform 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .slide {
            width: 100vw;
            height: 100vh;
            flex-shrink: 0;
            background-size: 70%;
            background-position: center;
            background-repeat: no-repeat;
            position: relative;
        }

        /* Navigation */
        .nav-button {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            z-index: 50;
            background: rgba(56, 189, 248, 0.9);
            backdrop-filter: blur(10px);
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px rgba(56, 189, 248, 0.3);
        }

        .nav-button:hover {
            background: rgba(56, 189, 248, 1);
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 12px 40px rgba(56, 189, 248, 0.5);
        }

        .nav-button.prev {
            left: 30px;
        }

        .nav-button.next {
            right: 30px;
        }

        .nav-button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: translateY(-50%) scale(0.9);
        }

        /* Slide Counter */
        .slide-counter {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 50;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            padding: 12px 24px;
            border-radius: 25px;
            border: 1px solid rgba(56, 189, 248, 0.3);
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            color: #38bdf8;
            font-size: 14px;
            letter-spacing: 0.1em;
        }

        /* Progress Bar */
        .progress-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            height: 4px;
            background: rgba(56, 189, 248, 0.8);
            z-index: 50;
            transition: width 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.6);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .nav-button {
                width: 50px;
                height: 50px;
            }
            
            .nav-button.prev {
                left: 20px;
            }
            
            .nav-button.next {
                right: 20px;
            }
            
            .slide-counter {
                bottom: 20px;
                padding: 8px 16px;
                font-size: 12px;
            }
        }

        /* Header styling */
        .header-sobre {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 60;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(56, 189, 248, 0.2);
        }

        /* Smooth scrolling for touch devices */
        @media (hover: none) {
            .slides-container {
                scroll-snap-type: x mandatory;
                overflow-x: scroll;
                overflow-y: hidden;
                width: 100vw;
                height: 100vh;
                display: flex;
                transition: none;
            }
            
            .slide {
                scroll-snap-align: start;
            }
            
            .nav-button {
                display: none;
            }
        }
    </style>
</head>
<body>
    
    <div id="canvas-container"></div>

    <!-- Header -->
    <header class="header-sobre">
        <div class="flex justify-between items-center py-4 px-6 md:px-12">
            <div class="flex items-center gap-4">
                <a href="index.html" class="block">
                    <img src="/img/logo.png" alt="Primavita Logo" class="h-8 w-auto object-contain block" onerror="this.style.display='none'; document.getElementById('fallback-logo').style.display='flex'">
                    
                    <div id="fallback-logo" class="hidden items-center gap-2">
                        <div class="w-8 h-8 bg-white text-black flex items-center justify-center font-black text-lg rounded-sm">P</div>
                        <span class="font-display font-bold tracking-widest text-lg">PRIMAVITA</span>
                    </div>
                </a>
            </div>
            
            <div class="flex items-center">
                <a href="index.html" class="border border-white/30 px-6 py-2 rounded-full hover:bg-white hover:text-black transition-all duration-300 text-xs font-bold tracking-widest uppercase bg-black/20 backdrop-blur-sm">
                    VOLTAR
                </a>
            </div>
        </div>
    </header>

    <!-- Main Slides Container -->
    <main class="relative w-full h-full overflow-hidden">
        <div class="slides-container" id="slidesContainer">
            <!-- Slide 1 -->
            <div class="slide" style="background-image: url('/img/sobre_pages/1.png')"></div>
            <!-- Slide 2 -->
            <div class="slide" style="background-image: url('/img/sobre_pages/2.png')"></div>
            <!-- Slide 3 -->
            <div class="slide" style="background-image: url('/img/sobre_pages/3.png')"></div>
            <!-- Slide 4 -->
            <div class="slide" style="background-image: url('/img/sobre_pages/4.png')"></div>
            <!-- Slide 5 -->
            <div class="slide" style="background-image: url('/img/sobre_pages/5.png')"></div>
            <!-- Slide 6 -->
            <div class="slide" style="background-image: url('/img/sobre_pages/6.png')"></div>
            <!-- Slide 7 -->
            <div class="slide" style="background-image: url('/img/sobre_pages/7.png')"></div>
            <!-- Slide 8 -->
            <div class="slide" style="background-image: url('/img/sobre_pages/8.png')"></div>
            <!-- Slide 9 -->
            <div class="slide" style="background-image: url('/img/sobre_pages/9.png')"></div>
            <!-- Slide 10 -->
            <div class="slide" style="background-image: url('/img/sobre_pages/10.png')"></div>
            <!-- Slide 11 -->
            <!-- <div class="slide" style="background-image: url('/img/sobre_pages/11.png')"></div> -->
        </div>

        <!-- Navigation Buttons -->
        <button class="nav-button prev" id="prevBtn" onclick="previousSlide()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="15,18 9,12 15,6"></polyline>
            </svg>
        </button>
        
        <button class="nav-button next" id="nextBtn" onclick="nextSlide()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="9,18 15,12 9,6"></polyline>
            </svg>
        </button>

        <!-- Slide Counter -->
        <div class="slide-counter" id="slideCounter">
            <span id="currentSlide">1</span> / <span id="totalSlides">10</span>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar" id="progressBar" style="width: 9.09%"></div>
    </main>

    <script>
        let currentSlideIndex = 0;
        const totalSlides = 10;
        const slidesContainer = document.getElementById('slidesContainer');
        const currentSlideElement = document.getElementById('currentSlide');
        const progressBar = document.getElementById('progressBar');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        function updateSlide(index) {
            // Update slide position
            const translateX = -index * 100;
            slidesContainer.style.transform = `translateX(${translateX}vw)`;
            
            // Update counter
            currentSlideElement.textContent = index + 1;
            
            // Update progress bar
            const progressPercent = ((index + 1) / totalSlides) * 100;
            progressBar.style.width = `${progressPercent}%`;
            
            // Update navigation buttons
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === totalSlides - 1;
            
            currentSlideIndex = index;
        }

        function nextSlide() {
            if (currentSlideIndex < totalSlides - 1) {
                updateSlide(currentSlideIndex + 1);
            }
        }

        function previousSlide() {
            if (currentSlideIndex > 0) {
                updateSlide(currentSlideIndex - 1);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                previousSlide();
            } else if (e.key === 'Escape') {
                window.location.href = 'index.html';
            }
        });

        // Touch/swipe support for mobile
        let startX = 0;
        let endX = 0;

        slidesContainer.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
        });

        slidesContainer.addEventListener('touchend', (e) => {
            endX = e.changedTouches[0].clientX;
            const deltaX = startX - endX;
            
            // Minimum swipe distance
            if (Math.abs(deltaX) > 50) {
                if (deltaX > 0) {
                    // Swipe left - next slide
                    nextSlide();
                } else {
                    // Swipe right - previous slide
                    previousSlide();
                }
            }
        });

        // Initialize with GSAP animation - immediate and smooth
        function initializePage() {
            // Initialize Three.js background first
            initThreeJS();
            
            // Set initial states (hidden but ready)
            gsap.set(".slides-container", { opacity: 0, y: 20 });
            gsap.set(".nav-button", { opacity: 0, scale: 0.8 });
            gsap.set(".slide-counter", { opacity: 0, y: 20 });
            gsap.set(".progress-bar", { scaleX: 0 });
            gsap.set(".header-sobre", { opacity: 0, y: -20 });
            
            // Quick and smooth entrance animation
            const tl = gsap.timeline({ delay: 0.2 });
            tl.to(".header-sobre", { duration: 0.5, opacity: 1, y: 0, ease: "power2.out" })
              .to(".slides-container", { duration: 0.6, opacity: 1, y: 0, ease: "power2.out" }, "-=0.3")
              .to(".nav-button", { duration: 0.4, opacity: 1, scale: 1, stagger: 0.1, ease: "back.out(1.2)" }, "-=0.4")
              .to(".slide-counter", { duration: 0.4, opacity: 1, y: 0, ease: "power2.out" }, "-=0.3")
              .to(".progress-bar", { duration: 0.5, scaleX: 1, transformOrigin: "left", ease: "power2.out" }, "-=0.3");
            
            updateSlide(0);
        }
        
        // Start immediately when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            initializePage();
        });
        
        // Also start on window load as fallback
        window.addEventListener('load', () => {
            if (!document.querySelector('.slides-container').style.opacity) {
                initializePage();
            }
        });
        
        // Three.js Background (igual ao index.html)
        const initThreeJS = () => {
            const container = document.getElementById('canvas-container');
            const scene = new THREE.Scene();
            scene.fog = new THREE.FogExp2(0x050505, 0.001);

            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            container.appendChild(renderer.domElement);

            const hexRadius = 20; 
            const hexGap = 2;
            const rows = 30;
            const cols = 40;
            const group = new THREE.Group();
            
            const hexShape = new THREE.Shape();
            for (let i = 0; i < 6; i++) {
                const angle = (i * 60 * Math.PI) / 180;
                const x = hexRadius * Math.cos(angle);
                const y = hexRadius * Math.sin(angle);
                if (i === 0) hexShape.moveTo(x, y);
                else hexShape.lineTo(x, y);
            }
            hexShape.closePath();
            
            const geometry = new THREE.BufferGeometry().setFromPoints(hexShape.getPoints());
            const material = new THREE.LineBasicMaterial({ color: 0x38bdf8, transparent: true, opacity: 0.15 });

            const hexagons = [];
            for (let r = 0; r < rows; r++) {
                for (let c = 0; c < cols; c++) {
                    const xOffset = c * (hexRadius * 1.5 + hexGap) - (cols * hexRadius * 1.5) / 2;
                    const yOffset = r * (hexRadius * Math.sqrt(3) + hexGap) - (rows * hexRadius * Math.sqrt(3)) / 2;
                    const finalY = c % 2 === 0 ? yOffset : yOffset + (hexRadius * Math.sqrt(3)) / 2;
                    const hex = new THREE.Line(geometry, material.clone());
                    hex.position.set(xOffset, finalY, 0);
                    hex.userData = { initialX: xOffset, initialY: finalY, initialZ: 0 };
                    group.add(hex);
                    hexagons.push(hex);
                }
            }
            group.rotation.x = 0.5;
            group.position.z = -100;
            scene.add(group);
            camera.position.z = 200;

            const mouse = new THREE.Vector2(9999, 9999);
            const raycaster = new THREE.Raycaster();
            const mousePlane = new THREE.Plane(new THREE.Vector3(0, 0, 1), 0);
            
            document.addEventListener('mousemove', (event) => {
                const x = (event.clientX / window.innerWidth) * 2 - 1;
                const y = -(event.clientY / window.innerHeight) * 2 + 1;
                raycaster.setFromCamera({x, y}, camera);
                const intersectPoint = new THREE.Vector3();
                raycaster.ray.intersectPlane(mousePlane, intersectPoint);
                if (intersectPoint) { mouse.x = intersectPoint.x; mouse.y = intersectPoint.y; }
            });

            const clock = new THREE.Clock();
            const animate = () => {
                requestAnimationFrame(animate);
                const time = clock.getElapsedTime();
                group.rotation.z = Math.sin(time * 0.05) * 0.05;
                hexagons.forEach((hex) => {
                    const dx = hex.position.x - mouse.x;
                    const dy = hex.position.y - mouse.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    const influence = Math.max(0, 150 - dist);
                    let targetZ = Math.sin(dist * 0.05 - time * 2) * 5;
                    if (influence > 0) {
                        targetZ += influence * 0.5;
                        hex.material.opacity = 0.6;
                        hex.scale.setScalar(1 + influence * 0.005);
                    } else {
                        hex.material.opacity = 0.15 + Math.sin(time + hex.position.x * 0.01) * 0.05;
                        hex.scale.setScalar(1);
                    }
                    hex.position.z += (targetZ - hex.position.z) * 0.1;
                });
                renderer.render(scene, camera);
            };
            animate();
            
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        };

        // Preload images for better performance
        function preloadImages() {
            for (let i = 1; i <= totalSlides; i++) {
                const img = new Image();
                img.src = `/img/sobre_pages/${i}.png`;
            }
        }

        // Start preloading after page loads
        window.addEventListener('load', preloadImages);
    </script>
</body>
</html>
